<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.mdv.view.controller.ProductoEditarController"
            style="-fx-background-color: #F5F5F5;">

    <!-- ==================== BARRA SUPERIOR ==================== -->
    <top>
        <HBox fx:id="topBar" alignment="CENTER_LEFT"
              style="-fx-background-color: #2C3E50; -fx-padding: 10;">

            <Button text="â† Volver"
                    onAction="#handleBackButton"
                    style="-fx-background-color: #BDC3C7; -fx-background-radius: 6;
                           -fx-text-fill: black; -fx-padding: 5 15;"/>

            <Label text="Editar Producto"
                   style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>

            <Pane HBox.hgrow="ALWAYS"/>

            <HBox spacing="8">
                <Circle radius="6" fill="#2ECC71" onMouseClicked="#minimizarVentana"/>
                <Circle radius="6" fill="#F1C40F" onMouseClicked="#maximizarVentana"/>
                <Circle radius="6" fill="#E74C3C" onMouseClicked="#cerrarVentana"/>
            </HBox>

        </HBox>
    </top>

    <!-- ==================== CONTENIDO SCROLLABLE ==================== -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER"
                    style="-fx-background-color: transparent;">
            <VBox spacing="25" style="-fx-padding: 25;" prefWidth="Infinity">

                <!-- ====================== INFO SUPERIOR ========================= -->
                <VBox style="-fx-background-color: #D6EAF8; -fx-padding: 15;
              -fx-background-radius: 8; -fx-border-radius: 8;
              -fx-border-color: #AED6F1;">
                    <Label fx:id="lblResumenProducto"
                           text="Editando producto..."
                           style="-fx-font-size: 14; -fx-font-weight: bold;"/>

                    <Label fx:id="lblCategoriaProducto"
                           text="CategorÃ­a: ---"
                           style="-fx-text-fill: #555; -fx-font-size: 12;"/>
                </VBox>

                <!-- ====================== DATOS DEL PRODUCTO ====================== -->
                <VBox spacing="12"
                      style="-fx-background-color: white; -fx-padding: 20;
                             -fx-background-radius: 8; -fx-border-radius: 8;
                             -fx-border-color: #D0D0D0;">

                    <HBox style="-fx-background-color: #2C3E50; -fx-padding: 10;
                                  -fx-background-radius: 8;">
                        <Label text="ðŸ“¦ Datos del Producto"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    </HBox>

                    <GridPane hgap="20" vgap="10">

                        <!-- CÃ³digo -->
                        <Label text="CÃ³digo:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <HBox spacing="10" GridPane.rowIndex="1" GridPane.columnIndex="0">
                            <TextField fx:id="txtCodigo"
                                       editable="false"
                                       style="-fx-background-color: #EAECEE; -fx-background-radius: 4;"/>
                            <Label text="ðŸ”’" style="-fx-font-size: 18;"/>
                        </HBox>

                        <!-- DescripciÃ³n -->
                        <Label text="DescripciÃ³n:*" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                        <TextField fx:id="txtDescripcion"
                                   GridPane.rowIndex="1" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 4;"/>

                        <!-- Precio -->
                        <Label text="Precio Recomendado:*" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <TextField fx:id="txtPrecio"
                                   promptText="Ej: 19.99"
                                   GridPane.rowIndex="3" GridPane.columnIndex="0"
                                   style="-fx-background-radius: 4;"/>

                        <!-- Stock -->
                        <Label text="Existencias:*" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                        <TextField fx:id="txtExistencias"
                                   promptText="Ej: 45"
                                   GridPane.rowIndex="3" GridPane.columnIndex="1"
                                   style="-fx-background-radius: 4;"/>

                        <!-- CategorÃ­a -->
                        <Label text="CategorÃ­a:*" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                        <ComboBox fx:id="comboCategoria"
                                  GridPane.rowIndex="5" GridPane.columnIndex="0"
                                  prefWidth="200"
                                  style="-fx-background-radius: 4;"/>

                    </GridPane>

                </VBox>

                <!-- ====================== BOTONES ====================== -->
                <HBox spacing="15" alignment="CENTER_RIGHT">

                    <Region HBox.hgrow="ALWAYS"/>

                    <Button text="âœ– Cancelar"
                            onAction="#handleBackButton"
                            style="-fx-background-color: #95A5A6; -fx-text-fill: white;
                                   -fx-background-radius: 6;"/>

                    <Button text="â†© Restablecer"
                            onAction="#restablecerCambios"
                            style="-fx-background-color: #E67E22; -fx-text-fill: white;
                                   -fx-background-radius: 6;"/>

                    <Button text="ðŸ’¾ Guardar Cambios"
                            onAction="#guardarCambios"
                            style="-fx-background-color: #2ECC71; -fx-text-fill: white;
                                   -fx-background-radius: 6;"/>

                </HBox>

            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
