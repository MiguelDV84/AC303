<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.mdv.view.controller.CategoriaInsertController"
            style="-fx-background-color: #F5F5F5;">

    <!-- ==================== TOP BAR ==================== -->
    <top>
        <HBox fx:id="topBar" alignment="CENTER_LEFT"
              style="-fx-background-color: #2C3E50; -fx-padding: 10;">

            <Button text="â† Volver"
                    onAction="#handleBackButton"
                    style="-fx-background-color: #BDC3C7; -fx-background-radius: 6;
                           -fx-text-fill: black; -fx-padding: 5 15;"/>

            <Label text="Crear Nueva CategorÃ­a"
                   style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>

            <Pane HBox.hgrow="ALWAYS"/>

            <HBox spacing="8">
                <Circle radius="6" fill="#2ECC71" onMouseClicked="#minimizarVentana"/>
                <Circle radius="6" fill="#F1C40F" onMouseClicked="#maximizarVentana"/>
                <Circle radius="6" fill="#E74C3C" onMouseClicked="#cerrarVentana"/>
            </HBox>

        </HBox>
    </top>

    <!-- ==================== CENTER CONTENT ==================== -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent;">
            <VBox spacing="25" style="-fx-padding: 25;" prefWidth="Infinity">

                <!-- ==================== BLOQUE INFO CATEGORIA ==================== -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 20;
                             -fx-background-radius: 8; -fx-border-color: #D0D0D0;">

                    <!-- CABECERA -->
                    <HBox style="-fx-background-color: #2C3E50; -fx-padding: 10;
                                  -fx-background-radius: 8;">
                        <Label text="ðŸ“ InformaciÃ³n de la CategorÃ­a"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    </HBox>

                    <!-- FORM -->
                    <Label text="Nombre de la CategorÃ­a:*"/>
                    <TextField fx:id="txtNombre"
                               promptText="Ej: ElectrÃ³nica, Ropa, AlimentaciÃ³n..."
                               style="-fx-background-radius: 4;"/>

                    <Label text="Nombre descriptivo para clasificar productos"
                           style="-fx-text-fill: #666; -fx-font-size: 11;"/>

                    <!-- VISTA PREVIA -->
                    <VBox spacing="10"
                          style="-fx-background-color: #EBF5FB; -fx-padding: 15;
                                 -fx-background-radius: 6; -fx-border-color: #AED6F1;">

                        <Label text="Vista Previa:"
                               style="-fx-font-weight: bold;"/>

                        <HBox spacing="10">

                            <VBox fx:id="previewBox"
                                  spacing="5"
                                  alignment="CENTER"
                                  style="-fx-background-color: #BB8FCE; -fx-padding: 10;
                                         -fx-border-radius: 6; -fx-background-radius: 6;">
                                <Label fx:id="lblPreviewNombre"
                                       text="[NOMBRE]"
                                       style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                                <Label text="Productos: 0" style="-fx-text-fill: white;"/>
                                <Label text="CategorÃ­a sin productos"
                                       style="-fx-text-fill: white; -fx-font-size: 11;"/>
                            </VBox>

                            <Button text="ðŸ“¦ ElectrÃ³nica"
                                    style="-fx-background-color: #3498DB; -fx-text-fill: white; -fx-padding: 8 15;"/>

                            <Button text="ðŸ› Ropa"
                                    style="-fx-background-color: #E67E22; -fx-text-fill: white; -fx-padding: 8 15;"/>

                        </HBox>
                    </VBox>

                    <!-- NOTA -->
                    <HBox spacing="10"
                          style="-fx-background-color: #FEF5E7; -fx-padding: 10;
                                 -fx-border-color: #F9E79F; -fx-background-radius: 6;">
                        <Label text="âš  Nota:"
                               style="-fx-font-weight: bold; -fx-text-fill: #B9770E;"/>
                        <Label text="El nombre de la categorÃ­a es obligatorio y debe ser Ãºnico."
                               style="-fx-text-fill: #B9770E;"/>
                    </HBox>

                    <!-- BOTONES -->
                    <HBox spacing="15" alignment="CENTER_RIGHT">

                        <Button text="âœ– Cancelar"
                                onAction="#handleBackButton"
                                style="-fx-background-color: #95A5A6; -fx-text-fill: white;
                                       -fx-background-radius: 6;"/>

                        <Button text="ðŸ§¹ Limpiar"
                                onAction="#limpiarFormulario"
                                style="-fx-background-color: #F39C12; -fx-text-fill: white;
                                       -fx-background-radius: 6;"/>

                        <Button text="ðŸ’¾ Guardar CategorÃ­a"
                                onAction="#guardarCategoria"
                                style="-fx-background-color: #2ECC71; -fx-text-fill: white;
                                       -fx-background-radius: 6;"/>

                    </HBox>

                </VBox>

                <!-- ================= CATEGORIAS EXISTENTES ================= -->
                <VBox spacing="15"
                      style="-fx-background-color: white; -fx-padding: 20;
                             -fx-background-radius: 8; -fx-border-color: #D0D0D0;">

                    <!-- CABECERA -->
                    <HBox style="-fx-background-color: #2C3E50; -fx-padding: 10;
                                  -fx-background-radius: 8;">
                        <Label text="ðŸ“š CategorÃ­as Existentes"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    </HBox>

                    <!-- FILTRO -->
                    <TextField fx:id="txtBuscar"
                               promptText="Buscar categorÃ­as..."
                               onKeyReleased="#filtrarCategorias"
                               style="-fx-background-radius: 4;"/>

                    <!-- LISTA -->
                    <VBox fx:id="contenedorCategorias" spacing="10"/>

                    <Label text="... mÃ¡s categorÃ­as ..."
                           style="-fx-font-size: 11; -fx-text-fill: #777;"
                           alignment="CENTER"/>

                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
