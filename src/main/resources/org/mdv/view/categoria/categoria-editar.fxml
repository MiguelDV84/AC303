<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.mdv.view.controller.CategoriaEditarController"
            style="-fx-background-color: #F5F5F5;">

    <!-- ==================== BARRA SUPERIOR ==================== -->
    <top>
        <HBox fx:id="topBar" alignment="CENTER_LEFT"
              style="-fx-background-color: #2C3E50; -fx-padding: 10;">

            <Button text="â† Volver"
                    onAction="#handleBackButton"
                    style="-fx-background-color: #BDC3C7; -fx-background-radius: 6;
                           -fx-text-fill: black; -fx-padding: 5 15;"/>

            <Label text="Editar CategorÃ­a"
                   style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>

            <Pane HBox.hgrow="ALWAYS"/>

            <HBox spacing="8">
                <Circle radius="6" fill="#2ECC71" onMouseClicked="#minimizarVentana"/>
                <Circle radius="6" fill="#F1C40F" onMouseClicked="#maximizarVentana"/>
                <Circle radius="6" fill="#E74C3C" onMouseClicked="#cerrarVentana"/>
            </HBox>

        </HBox>
    </top>


    <!-- ==================== CONTENIDO ==================== -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER"
                    style="-fx-background-color: transparent;">

            <VBox spacing="25" style="-fx-padding: 25;" prefWidth="Infinity">

                <!-- ====================== BLOQUE INFORMACIÃ“N GENERAL ====================== -->
                <VBox spacing="12"
                      style="-fx-background-color: #D6EAF8; -fx-padding: 15;
                             -fx-background-radius: 8; -fx-border-color: #AED6F1;">

                    <Label fx:id="lblResumenCategoria"
                           text="Editando categorÃ­a..."
                           style="-fx-font-size: 14; -fx-font-weight: bold;"/>

                </VBox>


                <!-- ====================== FORMULARIO ====================== -->
                <VBox spacing="12"
                      style="-fx-background-color: white; -fx-padding: 20;
                             -fx-background-radius: 8; -fx-border-color: #D0D0D0;">

                    <HBox style="-fx-background-color: #2C3E50; -fx-padding: 10;
                                   -fx-background-radius: 8;">
                        <Label text="ðŸ“ Datos de la CategorÃ­a"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    </HBox>

                    <Label text="Nombre:*" />
                    <TextField fx:id="txtNombre"
                               promptText="Ej: ElectrÃ³nica, Ropa, AlimentaciÃ³n..."
                               style="-fx-background-radius: 4;"/>

                    <!-- Preview -->
                    <VBox spacing="10"
                          style="-fx-background-color: #EBF5FB; -fx-padding: 15;
                                 -fx-background-radius: 6; -fx-border-color: #AED6F1;">

                        <Label text="Vista previa:"
                               style="-fx-font-weight: bold;"/>

                        <HBox spacing="10">
                            <VBox fx:id="previewBox"
                                  spacing="5"
                                  alignment="CENTER"
                                  style="-fx-background-color: #BB8FCE; -fx-padding: 10;
                                         -fx-background-radius: 6;">
                                <Label fx:id="lblPreviewNombre"
                                       text="[NOMBRE]"
                                       style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                                <Label fx:id="lblPreviewProductos"
                                       text="Productos: --"
                                       style="-fx-text-fill: white;"/>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>


                <!-- ====================== PRODUCTOS ASOCIADOS ====================== -->
                <VBox spacing="12"
                      style="-fx-background-color: white; -fx-padding: 20;
                             -fx-background-radius: 8; -fx-border-color: #D0D0D0;">

                    <HBox style="-fx-background-color: #2C3E50; -fx-padding: 10;
                                   -fx-background-radius: 8;">
                        <Label text="ðŸ“¦ Productos en esta CategorÃ­a"
                               style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                    </HBox>

                    <VBox fx:id="contenedorProductos" spacing="10"/>

                    <Label fx:id="lblSinProductos"
                           text="Esta categorÃ­a no tiene productos asociados."
                           visible="false"
                           style="-fx-text-fill: gray; -fx-font-size: 12;"/>
                </VBox>


                <!-- ====================== BOTONES ====================== -->
                <HBox spacing="15" alignment="CENTER_RIGHT">

                    <Region HBox.hgrow="ALWAYS"/>

                    <Button text="âœ– Cancelar"
                            onAction="#handleBackButton"
                            style="-fx-background-color: #95A5A6; -fx-text-fill: white;
                                   -fx-background-radius: 6;"/>

                    <Button text="â†© Restablecer"
                            onAction="#restablecerCambios"
                            style="-fx-background-color: #E67E22; -fx-text-fill: white;
                                   -fx-background-radius: 6;"/>

                    <Button text="ðŸ’¾ Guardar Cambios"
                            onAction="#guardarCambios"
                            style="-fx-background-color: #2ECC71; -fx-text-fill: white;
                                   -fx-background-radius: 6;"/>

                </HBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
